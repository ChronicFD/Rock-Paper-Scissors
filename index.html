<!DOCTYPE html>
<html>
<head>
  <title>Page Title</title>
</head>
<body>

<script>
    // Your JavaScript goes here!

    // run the program
    function game() {

        // play 5 iterations of rock-paper-scissors
        for (i=0; i<5; i++) {
            // get user input from prompt
            let gameuserinput = window.prompt("Choose rock, paper, or scissors", "Type here");
            // let j = "rock"  // debug variables

            let output = computerPlay(gameuserinput);
            console.log(i);
            console.log(output);
        };
    };

    // Play Rock-Paper-Scissors
    function computerPlay(playerSelection, computerSelection) {
        
        playerSelection = playerSelection.toLowerCase();  // Convert input to lowercase
        
        computerSelection = Math.floor(Math.random() * 3) + 1; // Generates a random # between 1 and 3

        // Test for valid inputs
        if (testIfValid(playerSelection) == false) {
            let message = "No result";
            return message;
        }

        // assigns a RPS value to the random #
        else if (computerSelection == 1) computerSelection = "rock"; 
        else if (computerSelection == 2) computerSelection = "paper";
        else computerSelection = "scissors";
        
        //Test for tie condition
        let winlose = "default input";
        if (testIfTied(playerSelection, computerSelection) == true) winlose = "ties with"; 
        
        // finds result of R-P-S
        else switch (playerSelection) {
            case "rock":
                if (computerSelection == "paper") winlose = "loses to";
                else winlose = "wins over";
                break;
            case "paper":
                if (computerSelection == "scissors") winlose = "loses to";
                else winlose = "wins over";
                break;
            default:  // "scissors" case...
                if (computerSelection == "rock") winlose = "loses to";
                else winlose = "wins over";
        };
        
        
        // put result in text output
        let result = playerSelection + " " + winlose + " " + computerSelection;
        
        return result;
    };

    // test for valid inputs
    function testIfValid(inputstring) {
        if (inputstring !== "rock" && inputstring !== "paper" && inputstring !== "scissors") {
            alert ("Not a valid input!");  
            let x = false;
            return x;
        }
        else x = true;
        return x;
    };

    // Test for tie condition
    function testIfTied(playerinput, computerinput) {
        if (playerinput == computerinput) {
            alert ("You tied! Choose again!"); 
            let x = true;
            return x;
        }
        else x = false;
        return x;
    };

  </script>
</body>
</html>